<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.center.buuluu.dao.mapper.AppUserSessionMapper" >
  <resultMap id="BaseResultMap" type="com.center.buuluu.model.AppUserSession" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    <id column="ID" property="id" jdbcType="BIGINT" />
    <result column="USER_ID" property="userId" jdbcType="VARCHAR" />
    <result column="TOKEN" property="token" jdbcType="VARCHAR" />
    <result column="LOGIN_TYPE" property="loginType" jdbcType="INTEGER" />
    <result column="LOGIN_TIME" property="loginTime" jdbcType="TIMESTAMP" />
    <result column="LOGOUT_TIME" property="logoutTime" jdbcType="TIMESTAMP" />
    <result column="LANG" property="lang" jdbcType="VARCHAR" />
    <result column="DEVICE" property="device" jdbcType="VARCHAR" />
    <result column="DEVICE_VER_NUM" property="deviceVerNum" jdbcType="VARCHAR" />
    <result column="IMEI" property="imei" jdbcType="VARCHAR" />
    <result column="MAC" property="mac" jdbcType="VARCHAR" />
    <result column="IMSI" property="imsi" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="INTEGER" />
    <result column="CREATED_BY" property="createdBy" jdbcType="VARCHAR" />
    <result column="CREATED_TIME" property="createdTime" jdbcType="TIMESTAMP" />
    <result column="UPDATED_BY" property="updatedBy" jdbcType="VARCHAR" />
    <result column="UPDATED_TIME" property="updatedTime" jdbcType="TIMESTAMP" />
    <result column="IS_DELETED" property="isDeleted" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    ID, USER_ID, TOKEN, LOGIN_TYPE, LOGIN_TIME, LOGOUT_TIME, LANG, DEVICE, DEVICE_VER_NUM, 
    IMEI, MAC, IMSI, STATUS, CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    from app_user_session
    where ID = #{id,jdbcType=BIGINT} and IS_DELETED=false
  </select>
  
  <select id="checkUserSession" resultMap="BaseResultMap" parameterType="java.util.Map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    from app_user_session
    where USER_ID = #{userId,jdbcType=VARCHAR} AND TOKEN=#{token,jdbcType=VARCHAR} and IS_DELETED=false
  </select>
  
  
  <select id="getUserSessionByUserId" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    from app_user_session
    where USER_ID = #{userId,jdbcType=VARCHAR} and IS_DELETED=false
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    delete from app_user_session
    where ID = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.center.buuluu.model.AppUserSession" 
  useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    insert into app_user_session (USER_ID, TOKEN, 
      LOGIN_TYPE, LOGIN_TIME, LOGOUT_TIME, 
      LANG, DEVICE, DEVICE_VER_NUM, 
      IMEI, MAC, IMSI, STATUS, 
      CREATED_BY, CREATED_TIME, UPDATED_BY, 
      UPDATED_TIME, IS_DELETED)
    values (#{userId,jdbcType=VARCHAR}, #{token,jdbcType=VARCHAR}, 
      #{loginType,jdbcType=INTEGER}, #{loginTime,jdbcType=TIMESTAMP}, #{logoutTime,jdbcType=TIMESTAMP}, 
      #{lang,jdbcType=VARCHAR}, #{device,jdbcType=VARCHAR}, #{deviceVerNum,jdbcType=VARCHAR}, 
      #{imei,jdbcType=VARCHAR}, #{mac,jdbcType=VARCHAR}, #{imsi,jdbcType=VARCHAR}, #{status,jdbcType=INTEGER}, 
      #{createdBy,jdbcType=VARCHAR}, #{createdTime,jdbcType=TIMESTAMP}, #{updatedBy,jdbcType=VARCHAR}, 
      #{updatedTime,jdbcType=TIMESTAMP}, #{isDeleted,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.center.buuluu.model.AppUserSession" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    insert into app_user_session
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="userId != null" >
        USER_ID,
      </if>
      <if test="token != null" >
        TOKEN,
      </if>
      <if test="loginType != null" >
        LOGIN_TYPE,
      </if>
      <if test="loginTime != null" >
        LOGIN_TIME,
      </if>
      <if test="logoutTime != null" >
        LOGOUT_TIME,
      </if>
      <if test="lang != null" >
        LANG,
      </if>
      <if test="device != null" >
        DEVICE,
      </if>
      <if test="deviceVerNum != null" >
        DEVICE_VER_NUM,
      </if>
      <if test="imei != null" >
        IMEI,
      </if>
      <if test="mac != null" >
        MAC,
      </if>
      <if test="imsi != null" >
        IMSI,
      </if>
      <if test="status != null" >
        STATUS,
      </if>
      <if test="createdBy != null" >
        CREATED_BY,
      </if>
      <if test="createdTime != null" >
        CREATED_TIME,
      </if>
      <if test="updatedBy != null" >
        UPDATED_BY,
      </if>
      <if test="updatedTime != null" >
        UPDATED_TIME,
      </if>
      <if test="isDeleted != null" >
        IS_DELETED,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=BIGINT},
      </if>
      <if test="userId != null" >
        #{userId,jdbcType=VARCHAR},
      </if>
      <if test="token != null" >
        #{token,jdbcType=VARCHAR},
      </if>
      <if test="loginType != null" >
        #{loginType,jdbcType=INTEGER},
      </if>
      <if test="loginTime != null" >
        #{loginTime,jdbcType=TIMESTAMP},
      </if>
      <if test="logoutTime != null" >
        #{logoutTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lang != null" >
        #{lang,jdbcType=VARCHAR},
      </if>
      <if test="device != null" >
        #{device,jdbcType=VARCHAR},
      </if>
      <if test="deviceVerNum != null" >
        #{deviceVerNum,jdbcType=VARCHAR},
      </if>
      <if test="imei != null" >
        #{imei,jdbcType=VARCHAR},
      </if>
      <if test="mac != null" >
        #{mac,jdbcType=VARCHAR},
      </if>
      <if test="imsi != null" >
        #{imsi,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        #{status,jdbcType=INTEGER},
      </if>
      <if test="createdBy != null" >
        #{createdBy,jdbcType=VARCHAR},
      </if>
      <if test="createdTime != null" >
        #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedBy != null" >
        #{updatedBy,jdbcType=VARCHAR},
      </if>
      <if test="updatedTime != null" >
        #{updatedTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null" >
        #{isDeleted,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.center.buuluu.model.AppUserSession" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    update app_user_session
    <set >
      <if test="userId != null" >
        USER_ID = #{userId,jdbcType=VARCHAR},
      </if>
      <if test="token != null" >
        TOKEN = #{token,jdbcType=VARCHAR},
      </if>
      <if test="loginType != null" >
        LOGIN_TYPE = #{loginType,jdbcType=INTEGER},
      </if>
      <if test="loginTime != null" >
        LOGIN_TIME = #{loginTime,jdbcType=TIMESTAMP},
      </if>
      <if test="logoutTime != null" >
        LOGOUT_TIME = #{logoutTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lang != null" >
        LANG = #{lang,jdbcType=VARCHAR},
      </if>
      <if test="device != null" >
        DEVICE = #{device,jdbcType=VARCHAR},
      </if>
      <if test="deviceVerNum != null" >
        DEVICE_VER_NUM = #{deviceVerNum,jdbcType=VARCHAR},
      </if>
      <if test="imei != null" >
        IMEI = #{imei,jdbcType=VARCHAR},
      </if>
      <if test="mac != null" >
        MAC = #{mac,jdbcType=VARCHAR},
      </if>
      <if test="imsi != null" >
        IMSI = #{imsi,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        STATUS = #{status,jdbcType=INTEGER},
      </if>
      <if test="createdBy != null" >
        CREATED_BY = #{createdBy,jdbcType=VARCHAR},
      </if>
      <if test="createdTime != null" >
        CREATED_TIME = #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedBy != null" >
        UPDATED_BY = #{updatedBy,jdbcType=VARCHAR},
      </if>
      <if test="updatedTime != null" >
        UPDATED_TIME = #{updatedTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null" >
        IS_DELETED = #{isDeleted,jdbcType=INTEGER},
      </if>
    </set>
    where ID = #{id,jdbcType=BIGINT} and IS_DELETED=false
  </update>
  
  
  <update id="updateByPrimaryKey" parameterType="com.center.buuluu.model.AppUserSession" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 20 14:57:06 CST 2015.
    -->
    update app_user_session
    set USER_ID = #{userId,jdbcType=VARCHAR},
      TOKEN = #{token,jdbcType=VARCHAR},
      LOGIN_TYPE = #{loginType,jdbcType=INTEGER},
      LOGIN_TIME = #{loginTime,jdbcType=TIMESTAMP},
      LOGOUT_TIME = #{logoutTime,jdbcType=TIMESTAMP},
      LANG = #{lang,jdbcType=VARCHAR},
      DEVICE = #{device,jdbcType=VARCHAR},
      DEVICE_VER_NUM = #{deviceVerNum,jdbcType=VARCHAR},
      IMEI = #{imei,jdbcType=VARCHAR},
      MAC = #{mac,jdbcType=VARCHAR},
      IMSI = #{imsi,jdbcType=VARCHAR},
      STATUS = #{status,jdbcType=INTEGER},
      CREATED_BY = #{createdBy,jdbcType=VARCHAR},
      CREATED_TIME = #{createdTime,jdbcType=TIMESTAMP},
      UPDATED_BY = #{updatedBy,jdbcType=VARCHAR},
      UPDATED_TIME = #{updatedTime,jdbcType=TIMESTAMP},
      IS_DELETED = #{isDeleted,jdbcType=INTEGER}
    where ID = #{id,jdbcType=BIGINT} and IS_DELETED=false
  </update>
  <!-- 修改用户登录状态 -->
  <update id="updateUserSession" parameterType="com.center.buuluu.model.AppUserSession" >
     update app_user_session
    <set >
      <if test="userId != null" >
        USER_ID = #{userId,jdbcType=VARCHAR},
      </if>
      <if test="token != null" >
        TOKEN = #{token,jdbcType=VARCHAR},
      </if>
      <if test="loginType != null" >
        LOGIN_TYPE = #{loginType,jdbcType=INTEGER},
      </if>
      <if test="loginTime != null" >
        LOGIN_TIME = #{loginTime,jdbcType=TIMESTAMP},
      </if>
      <if test="logoutTime != null" >
        LOGOUT_TIME = #{logoutTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lang != null" >
        LANG = #{lang,jdbcType=VARCHAR},
      </if>
      <if test="device != null" >
        DEVICE = #{device,jdbcType=VARCHAR},
      </if>
      <if test="deviceVerNum != null" >
        DEVICE_VER_NUM = #{deviceVerNum,jdbcType=VARCHAR},
      </if>
      <if test="imei != null" >
        IMEI = #{imei,jdbcType=VARCHAR},
      </if>
      <if test="mac != null" >
        MAC = #{mac,jdbcType=VARCHAR},
      </if>
      <if test="imsi != null" >
        IMSI = #{imsi,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        STATUS = #{status,jdbcType=INTEGER},
      </if>
      <if test="createdBy != null" >
        CREATED_BY = #{createdBy,jdbcType=VARCHAR},
      </if>
      <if test="createdTime != null" >
        CREATED_TIME = #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedBy != null" >
        UPDATED_BY = #{updatedBy,jdbcType=VARCHAR},
      </if>
      <if test="updatedTime != null" >
        UPDATED_TIME = #{updatedTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null" >
        IS_DELETED = #{isDeleted,jdbcType=INTEGER},
      </if>
    </set>
    where USER_ID = #{userId,jdbcType=VARCHAR} and IS_DELETED=false  </update>
</mapper>